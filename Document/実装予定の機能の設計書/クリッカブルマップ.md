#### ①専用シーン呼び出し型（Godotエディタ重視）で作成する。

探索画面だけ `.tscn` (シーン) としてGodotエディタ上で作成し、ADVエンジンからそれを呼び出す方式。 **メリット:** GodotのGUIで当たり判定（CollisionShape2DやTextureButton）を配置できるので作成が圧倒的に楽。演出も付けやすい。 

**実装イメージ:**

1. **Godot側:** `InvestigationScene.tscn` を作成。背景画像の上に `TextureButton` や `Area2D` を配置。

   - 探索用の専用UIを必ず被せるようにする。仮ではとりあえず、上部に黒帯がかかり、探索中と表示されるだけでいい。

   - 背景サイズが大きい場合は、左右に画面を動かすことができる。ただし、背景以上にカーソルが動いてしまうことはない。

   - 背景に載せる素材はクリックできないパーツとクリックできるボタンの2種類がある。

   - ボタンが押されたら「シグナル」を発行し、親であるADVエンジンに「ID: evidence_01 がクリックされた」と伝える。

   - 奥行きを設定でき、パララクス表現を入れることができる。

   - ボタン画像は変数によって設定され、切り替えることができる。(一度調べたら消失するなどが可能)

   - BGMはシナリオ側で設定する。

   - シナリオで会話を再生し、再びこのクリッカブルマップへ戻ることもできる。

   - クリッカブルマップを捜査中は、カーソルのアイコンを変更する。

   - クリック音、オンマウス音なども設定できるようにする。

     D:\Works\Godot\ADVEngineDemo\resources\systemにconfig用のファイルを作成し、その設定を読み込むことでアイコン画像やクリック音を変更できるようにしたり、調整を容易にすべきである。

2. **シナリオ側:** 新しいコマンド `@start_investigation` を作る。

   Plaintext

   ```
   @start_investigation "res://scenes/maps/office_map.tscn"
   ; エンジンはここでシナリオ進行を一時停止し、マップシーンを表示する
   ; マップからの戻り値（クリックされたもの）によって分岐する
   ```

#### ②実装が終わったら、立ち絵と同じく、クリッカブルシーン作成を容易にするアドオンを作成する。

- 各シーンに背景を設定。調べる用のボタンをドラッグなどでxy位置を設定できる。
- 何を調べたかなど、分岐させる必要があるかもしれないので、変数の状態によって複数の戻り値(シナリオへ戻る)なども設定できることが望ましい。





